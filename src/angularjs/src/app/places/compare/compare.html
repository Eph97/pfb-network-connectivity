<pfb-navbar></pfb-navbar>

<!-- All Comparisons -->
<section class="comparisons">
    <div class="container">
        <h2 class="decor">
            <i class="icon-compare"></i>
            City/Town Comparison
        </h2>
        <div class="row align-center">
                <div class="btn-group">
                    <button class="btn btn-secondary"
                        ui-sref="compare({place1: '', place2: '', place3: ''})">Clear Selections</button>
                    <button ui-sref="places.list" class="btn btn-secondary">Back to Search</button>
                </div>
        </div>

        <div class="row stack-xs">
            <!-- Only up to three comparisons -->
            <div class="column-4" ng-repeat="place in compare.places track by $index">
                <div class="card stack" ng-if="place.neighborhood">
                    <div class="card-details">
                        <!-- TODO: fix styling. Why does this not appear without btn classes? -->
                        <a class="compare-remove btn btn-secondary"
                            ng-click="compare.clearSelection($index)"><i class="icon-cross"></i></a>
                        <h3>{{place.neighborhood.label}}</h3>
                        <h4>{{place.neighborhood.state_abbrev}}</h4>
                        <div class="network-score large">{{place.lastJob.overall_score | number:0}}</div>
                        <div class="location-timestamp"><span>Last updated:</span>
                            {{place.lastJob.modifiedAt | date:'MMMM dd, yyyy'}}</div>
                    </div>
                    <div class="card-map">s
                        <pfb-thumbnail-map></pfb-thumbnail-map>
                    </div>
                    <ul class="metric-list" ng-repeat="result in place.scores">
                        <li>{{result.metric}}
                            <span class="network-score small">{{result.score | number:0}}</span>
                        </li>
                    </ul>
                </div>
                <!-- This column is the placeholder that users will see
                 only one or two cities are selected. -->
                <div class="card compare-placeholder" ng-if="!place.neighborhood">
                    <div class="card-details">
                        <i class="icon-map"></i>
                        <div class="h2">Add a city/town to compare</div>
                        <a ui-sref="places.list" class="btn btn-primary btn-block">Search city/towns</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section containing how each metric is calculated -->
<section class="calculation">
    <div class="container">
        <h2 class="decor">
            <i class="icon-calc"></i>
            How the Network Score is calculated
        </h2>
        <div class="row stack-xs">
            <div class="column-6">
                <div class="card alternate">
                    <div class="card-image"></div>
                    <div class="card-details">
                        <div class="card-title">
                            <h3>Metric Name</h3>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni aliquam minima voluptates asperiores, nostrum nesciunt! Suscipit laborum consequatur sit odit quia magnam hic voluptatem, optio. Nisi itaque quidem a nobis!</p>
                    </div>
                </div>
            </div>
            <div class="column-6">
                <div class="card alternate">
                    <div class="card-image"></div>
                    <div class="card-details">
                        <div class="card-title">
                            <h3>Metric 2</h3>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni aliquam minima voluptates asperiores, nostrum nesciunt! Suscipit laborum consequatur sit odit quia magnam hic voluptatem, optio. Nisi itaque quidem a nobis!</p>
                    </div>
                </div>
            </div>
            <div class="column-6">
                <div class="card alternate">
                    <div class="card-image"></div>
                    <div class="card-details">
                        <div class="card-title">
                            <h3>Metric 3</h3>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni aliquam minima voluptates asperiores, nostrum nesciunt! Suscipit laborum consequatur sit odit quia magnam hic voluptatem, optio. Nisi itaque quidem a nobis!</p>
                    </div>
                </div>
            </div>
            <div class="column-6">
                <div class="card alternate">
                    <div class="card-image"></div>
                    <div class="card-details">
                        <div class="card-title">
                            <h3>Metric 4</h3>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni aliquam minima voluptates asperiores, nostrum nesciunt! Suscipit laborum consequatur sit odit quia magnam hic voluptatem, optio. Nisi itaque quidem a nobis!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Section containing how each metric is calculated -->

<pfb-footer></pfb-footer>
